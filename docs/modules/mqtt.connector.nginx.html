<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>luamqtt</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>



<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/mqtt.html">mqtt</a></li>
  <li><a href="../modules/mqtt.loop.html">mqtt.loop</a></li>
  <li><a href="../modules/mqtt.loop.copas.html">mqtt.loop.copas</a></li>
  <li><a href="../modules/mqtt.loop.nginx.html">mqtt.loop.nginx</a></li>
  <li><a href="../modules/mqtt.loop.ioloop.html">mqtt.loop.ioloop</a></li>
  <li><a href="../modules/mqtt.connector.html">mqtt.connector</a></li>
  <li><a href="../modules/mqtt.connector.copas.html">mqtt.connector.copas</a></li>
  <li><strong>mqtt.connector.nginx</strong></li>
  <li><a href="../modules/mqtt.connector.luasocket.html">mqtt.connector.luasocket</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/Client.html">Client</a></li>
  <li><a href="../classes/Ioloop.html">Ioloop</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/README.md.html">This is a fork of LuaMQTT</a></li>
  <li><a href="../topics/LICENSE.html">MIT License</a></li>
  <li><a href="../topics/01-installation.md.html">Installation</a></li>
  <li><a href="../topics/02-dependencies.md.html">Dependencies</a></li>
  <li><a href="../topics/03-lua_versions.md.html">Lua versions</a></li>
  <li><a href="../topics/04-mqtt_versions.md.html">MQTT versions</a></li>
  <li><a href="../topics/05-connectors.md.html">Connectors</a></li>
  <li><a href="../topics/README.md.html">Short documentation topics</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/simple.lua.html">simple.lua</a></li>
  <li><a href="../examples/mqtt5-simple.lua.html">mqtt5-simple.lua</a></li>
  <li><a href="../examples/copas.lua.html">copas.lua</a></li>
  <li><a href="../examples/openresty.lua.html">openresty.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>mqtt.connector.nginx</code></h1>
<p>Nginx OpenResty co-sockets based connector.</p>
<p>
<p> This connector works with the non-blocking openresty sockets. Note that the
 secure setting haven't been implemented yet. It will simply use defaults
 when doing a TLS handshake.
<p> Caveats:
<p> * sockets cannot cross phase/context boundaries. So all client interaction
   must be done from the timer context in which the client threads run.
<p> * multiple threads cannot send simultaneously (simple scenarios will just
   work)
<p> * since the client creates a long lived connection for reading, it returns
   upon receiving a packet, to call an event handler. The handler must return
   swiftly, since while the handler runs the socket will not be reading.
   Any task that might take longer than a few milliseconds should be off
   loaded to another thread.
<p> * Nginx timers should be short lived because memory is only released after
   the context is destroyed. In this case we're using them for prolonged periods
   of time, so be aware of this and implement client restarts if required.
<p> thanks to @irimiab: https://github.com/xHasKx/luamqtt/issues/13</p>



<br/>
<br/>




</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-10-13 22:14:17 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
